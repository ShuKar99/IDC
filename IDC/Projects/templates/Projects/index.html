{% extends "Projects/base.html" %}
{% load static %}
{% block title %}
	Projects
{% endblock %}

{% block content %}

<link rel="stylesheet" href='{% static "css/projectindexstyle.css" %}'>
<script src="js/jquery-1.10.2.js" type="text/javascript"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<div id="page">

	<!--start image slider-->
	<div id="carouselExampleControls" class="carousel slide" data-ride="carousel" data-interval="3000" style="background-color: black;">
		{% for i in images %}

		<ul class="carousel-indicators">
			<li data-target="#carouselExampleControls" data-slide-to="i" class="active"></li>
		</ul>

		<div class="carousel-item">
			<img src="{{i.carouselimage.url}}/" alt="Chania" height="600" width="100%">
				<div class="carousel-caption">
				<h3>Los Angeles</h3>
				<p>We had such a great time in LA!</p>
				</div>
		</div>
		{% endfor %}
		<!--
			<div class="carousel-inner">
			{% for i in view_name %}
				<div class="item">
					<img src="{{i.carouselImage.url}}" height="70vh" width="100%">
				</div>
			{% endfor %}
		</div>-->

		<a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
			<span class="carousel-control-prev-icon" aria-hidden="true"></span>
			<span class="sr-only">Previous</span>
		</a>
		<a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
			<span class="carousel-control-next-icon" aria-hidden="true"></span>
			<span class="sr-only">Next</span>
		</a>
	</div>
	<!--end image slider-->

	<div class="container py-5 text-center">
		<h1 class="display-4 font-weight-bold">PROJECTS</h1>

	<!--projects section-->
		{% for project in projects %}
		
			<div class="col-lg-3">
				<div class="card-deck">
					<div class="card text-center border-dark mb-3">

						<div class="thefront">
							<img src="{{project.displayImage.url}}/" class="card-img-top img-fluid" alt="...">
							<div class="card-body">
							<h5 class="card-title">{{project.name}}</h5>
							<p class="card-text">Led by: {{project.project_lead}}<br>{{project.departmment}}</p>
							<div class="card-footer">
								<button class="btn btn-simple" onclick="rotateCard(this)">
									<i class="fa fa-mail-forward"></i> Quick View
								</button>
							</div>
							</div>
						</div><!--end of the front-->
						
						<div class="card-img-overlay">

							<div class="theback">
								<div class="main">
								<h4 class="text-center">Sponsors and Faculty</h4>
								<p class="card-text">
										{{project.Sponsor.name}}
										<img src="{{project.Sponsor.logo.url}}/">
										</br>
										{{project.Faculties.name}}
								</p>
										<div class="card-footer">
											<button class="btn btn-simple" rel="tooltip" title="Flip Card" onclick="rotateCard(this)">
												<i class="fa fa-reply"></i> Back
											</button>
											<button class="btn btn-simple" rel="tooltip" title="More Info">
												<i class="fa fa-info-circle"></i> More info
											</button>
										</div>
								</div>
							</div><!-- end of the back-->
						</div>
					</div><!-- end card-->
				</div>
			</div>

		<!--end projects section-->
		{% endfor %}
	</div>
</div>
{% endblock %}

<!-- JS function for card flip-->

<script type="text/javascript">
	$().ready(function(){
		$('[rel="tooltip"]').tooltip();

		$('a.scroll-down').click(function(e){
			e.preventDefault();
			scroll_target = $(this).data('href');
			 $('html, body').animate({
				 scrollTop: $(scroll_target).offset().top - 60
			 }, 1000);
		});

	});

	function rotateCard(btn){
		var $card = $(btn).closest('.card-container');
		console.log($card);
		if($card.hasClass('hover')){
			$card.removeClass('hover');
		} else {
			$card.addClass('hover');
		}
	}
</script>

<!--end function card flip-->
